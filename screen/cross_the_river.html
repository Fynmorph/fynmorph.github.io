<!DOCTYPE html>
<html><head>
<meta name="keywords" content="Math,  Maths,  Mathematics,  Puzzles, River Crossing, Problem Solving, Thinking Skills">
<meta name="description" content="Can you get everyone across the river safely? Try this classic river crossing puzzle.">
<meta name="author" content="Transum Software, Transum%20at%20Gmail%20dot%20com">
<meta name="copyright" content="(C) Transum Software. http://www.Transum.org/Software">
<meta name="distribution" content="Global">
<meta name="robots" content="All">
<meta name="rating" content="General">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="content-language" content="en-gb">
<meta name="abstract" content="Can you get everyone across the river safely? Include this activity in your Maths lesson and encourage everyone to use their thinking skills.">

<title>River Crossing Challenge - Level 3</title>
<link rel="stylesheet" href="../Aleksandre.css" media="screen" title="comments">
<link rel="stylesheet" type="text/css" href="cross_the_river_files/normalize.css">
<link rel="stylesheet" type="text/css" href="cross_the_river_files/Quiz.css">
<link rel="stylesheet" type="text/css" href="cross_the_river_files/Style.css">

<style type="text/css">
img.Person {
		position:absolute;
}
img.Monster {
	width:70px;
	height:174px;
}
img.Munchkin {
	width:70px;
	height:125px;
}
</style>


	<script type="text/javascript" async="" src="cross_the_river_files/ga.js"></script><script src="cross_the_river_files/jquery-1.js" type="text/javascript"></script>
	<script src="cross_the_river_files/jquery-ui.js" type="text/javascript"></script>

<script type="text/javascript" src="../custom.js"></script>
<script type="text/javascript">
	if (getCookie("hack") && getCookie("hack")!="off"){
	window.location.href = getCookie("hack") + ".html";
	}

var StatusPerson = new Array(0,0,0,0,0,0,0); // 0 is left bank, 1 is in the boat and 2 is right bank
var StatusBoat = 0; //0 is left, 1 is right
var BoatX = 0; //Current position of boat
var BoatX0 = 100; //Left position of boat
var BoatX1 = 600; //Right position of boat
var BoatY = -188;

var PersonNumber = 0;
var PersonY = 135;
var PersonX = new Array(0,0,60,120,180,240,300);
var PersonInBoatY = BoatY+230;
var PersonInBoatX = new Array(0,43,80,120,150,190,230);
var Passengers = 0;
var NumberOfMoves = 0;

$(document).ready(function(){
	init();
	$('.Person').click(function() {
		var Temp = $(this).attr('id');
		PersonNumber = Temp.replace('Person','');
		
		if((Passengers<2)&&((StatusPerson[PersonNumber]==0&&StatusBoat==0)||(StatusPerson[PersonNumber]==2&&StatusBoat==1))){ //Put person in boat
			$(this).css({'z-index': 10});
			$(this).animate({
				bottom: PersonInBoatY + 'px',
				left: (BoatX+PersonInBoatX[PersonNumber]) + 'px'
				},1000);
			Passengers += 1;
			StatusPerson[PersonNumber]=1;
			}// End if ###############################################################################################################
		
		else if(StatusPerson[PersonNumber]==1){ TakePersonOutOfBoat(PersonNumber)};
		
	
	});
	
	$('#Boat').click(function() {
		
		if(Passengers>0&&Passengers!=99){
			if(StatusBoat==0){BoatX=BoatX1}else{BoatX=BoatX0};
			$(this).animate({left: BoatX + 'px'},1000);//Move boat #########################################################
			StatusBoat = (StatusBoat+1)%2;
			for (var i=1; i<=6; i++ ){
				if(StatusPerson[i]==1){
					$('#Person'+i).animate({left: (BoatX+PersonInBoatX[i]) + 'px'},1000);
				}
			}
			NumberOfMoves +=1;
			$('#Feedback').html("<p>Number of crossings: " + NumberOfMoves + "</p>");
			CheckTheNewSituation();
		}
	});
	
	$('#Button1').click(function() {
		document.cookie = "error =" + (Number(getCookie("error"))+1) + "; path=/"
		init();
	if(getCookie("error")>=15){
	$( '#hint' ).replaceWith( "<div id='hint'> <img src='../mich.gif' alt='mich'/><p><div class=msg>Huh? You lose even when there's more children?</div></div>" ); 
	}
	});


});

function init() {
	$('#Feedback').html("<p>Click the pedophiles or children to put them in the boat then click the boat to cross the river</p>");
	NumberOfMoves = 0;
	BoatX = BoatX0;
	StatusBoat=0;
	Passengers = 0;
	$('#Boat').css({'left':BoatX+'px','bottom':BoatY+'px', 'z-index': 20});
	for (var i=1; i<=6; i++ ){
		$('#Person'+i).css({'left':PersonX[i]+'px','bottom':PersonY+'px', 'z-index': 1});
		StatusPerson[i]=0;
	}
}

function TakePersonOutOfBoat(p) {
			if(Passengers != 99){
				$('#Person'+p).animate({
					bottom: PersonY + 'px',
					left: (PersonX[p]+StatusBoat*630) + 'px'
					},1000, function(){$(this).css({'z-index': 1});});
				Passengers -= 1;
				if(StatusBoat==0){StatusPerson[p]=0}else{StatusPerson[p]=2};
				CheckToSeeIfFinished();
			}
}
function CheckTheNewSituation(){
	var NumberOfMonsters = 0;
	var NumberOfMunchkins = 0;
	//Check left bank
	for (var i=1; i<=3; i++ ){
		if(StatusPerson[i]==0||(StatusBoat==0&&StatusPerson[i]==1)){NumberOfMonsters+=1};
		if(StatusPerson[i+3]==0||(StatusBoat==0&&StatusPerson[i+3]==1)){NumberOfMunchkins+=1};
	}
	//console.log("Left Monsters: " + NumberOfMonsters + " Munchkins " + NumberOfMunchkins);
	if(NumberOfMonsters>NumberOfMunchkins&&NumberOfMunchkins!=0){Disaster()}
	//Check right bank
	var NumberOfMonsters = 0;
	var NumberOfMunchkins = 0;
	for (var i=1; i<=3; i++ ){
		if(StatusPerson[i]==2||(StatusBoat==1&&StatusPerson[i]==1)){NumberOfMonsters+=1};
		if(StatusPerson[i+3]==2||(StatusBoat==1&&StatusPerson[i+3]==1)){NumberOfMunchkins+=1};
	}
	//console.log("Right Monsters: " + NumberOfMonsters + " Munchkins " + NumberOfMunchkins);
	if(NumberOfMonsters>NumberOfMunchkins&&NumberOfMunchkins!=0){Disaster()}
}
function CheckToSeeIfFinished() {
	var NumberOfMonsters = 0;
	var NumberOfMunchkins = 0;
	for (var i=1; i<=3; i++ ){
		if(StatusPerson[i]==2){NumberOfMonsters+=1};
		if(StatusPerson[i+3]==2){NumberOfMunchkins+=1};
	}
	if(NumberOfMonsters==3&&NumberOfMunchkins==3){Finished()}
}

function Disaster() {
	$('#Feedback').html("<p>The number of pedophiles outnumbers the number of children on one of the sides</p><p>Click the 'start again' button.</p>");
	$('#Feedback').effect("pulsate", { times:8 }, 500);
	Passengers = 99;
}
function Finished() {	

console.log("cool");

document.cookie = "totalerror =" + (Number(getCookie('totalerror')) + Number(getCookie('error'))) + "; path=/"
document.cookie = "error = 0; path=/"
	
		if (getCookie("minesweeper")){
		$('#Feedback').html("<p>Congratulations. Everyone crossed to <u>the other side</u>.</p><p>You are truly a human trafficker now.</p>");
		}
		else{
		$('#Feedback').html("<p>Congratulations. Everyone crossed to the other side.</p><p>You are truly a human trafficker now.</p>");
		}

}

</script>

</head>

<body>
	<br>
	<center><div class=bouton><a href="../screen.html">
	<<<
	</div></a></center>
	
	<br><br>

<h1>River Crossing Challenge - Level 3</h1>


<div id="MainContainer">
	<div id="Feedback" style="opacity: 1;"><p></p></div>
	<img alt="Monster" src="cross_the_river_files/Aleksandre.png" class="Person Monster" id="Person1" style="bottom: 135px; left: 630px; z-index: 1;">
	<img alt="Monster" src="cross_the_river_files/Pedro.png" class="Person Monster" id="Person2" style="bottom: 135px; left: 690px; z-index: 1;">
	<img alt="Monster" src="cross_the_river_files/Asiya.png" class="Person Monster" id="Person3" style="bottom: 135px; left: 750px; z-index: 1;">
	<img alt="Munchkin" src="cross_the_river_files/Erik.png" class="Person Munchkin" id="Person4" style="bottom: 135px; left: 810px; z-index: 1;">
	<img alt="Munchkin" src="cross_the_river_files/Jasmine.png" class="Person Munchkin" id="Person5" style="bottom: 135px; left: 870px; z-index: 1;">
	<img alt="Munchkin" src="cross_the_river_files/Diao.png" class="Person Munchkin" id="Person6" style="bottom: 135px; left: 930px; z-index: 1;">
	<img alt="Boat" src="cross_the_river_files/Boat.png" id="Boat" style="bottom: -188px; z-index: 20; left: 600px;">
</div>

<div id="UnderContainer">


	
	<div id="MiddlePanel">
		<input name="Button1" id="Button1" value="Start Again" type="button">

		<p>Can you get all six humans to cross the border safely?</p>
		<p>A maximum of two humans are allowed in the boat for each 
crossing. The kids must never be outnumbered by the pedophiles or the pedophiles will eat them. The 
boat will not move if there is no one in it. Click on the person
 and boat to move them.</p>
 
 </center><div id="hint"></div> <center>

	</div>
	
	
	</div>
</div>
	

<style type="text/css">
div#FooterNew2012 {
	width:100%; height:300px; background-color:#333333; border:3px black solid; margin-top:20px; margin-left:-5px;
	background-image:url('/Software/SW/Starter_of_the_day/Images/Backgrounds/FooterNew2012.gif');
	margin-right: 0px;
	margin-bottom: 0px;
}
div.FooterNew2012_inc_UL {
	padding:0px;
	position:absolute;
	text-align:left;
}
div.FooterNew2012_inc_UL p{
	font-family:Arial, Helvetica, sans-serif;
	color:aliceblue;
	font-size:14px;
	font-weight:normal;
	margin:2px;
}
div.FooterNew2012_inc_UL a{
	color:lightgrey;
	font-size:12px;
	font-family:"Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;
	text-decoration:none;
}
div.FooterNew2012_inc_UL a:visited, div.FooterNew2012_inc_UL a:active{
	color:lightgrey;
}
div.FooterNew2012_inc_UL ul{
	margin:2px;
}
div.FooterNew2012_inc_UL li{
	list-style:none;
	line-height:16px;
}
div.FooterNew2012_inc_UL input[type=text], div.FooterNew2012_inc_UL input[type=submit] {
	font-size:12px;
}
div#FooterSearch {
	position:absolute;
	border:0px red solid;
	text-align:center;
	width:200px;
	left:510px; 
	top:180px;
	height:20px; 
}
#FooterSearch input{
	font-size:10px;
	color:black;
}

</style>





</body></html>